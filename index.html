<!DOCTYPE html>
<html lang="en">
	<head>
		<title>VIZ - Audio Visualization</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>

			@import url( http://fonts.googleapis.com/css?family=Lato:400,700 );

			html, body {
				font-family: 'Lato', sans-serif;
				background: #13242f;
				overflow: hidden;
				margin: 0;
			}
		  
			#container:before {
			    background-image( radial-gradient( center, ellipse cover, rgba(0,0,0,0) 20%, rgba(0,0,0,1) 95% ) );
			    position: absolute;
			    content: '';
			    z-index: 0;
			    opacity: 0.9;
			    height: 100%;
			    width: 100%;
			    left: 0;
			    top: 0;
			}

			#container:after {
			    background: url( 'http://s.cdpn.io/1715/noise-1.png' );
			    position: absolute;
			    content: '';
			    z-index: 1;
			    opacity: 0.8;
			    height: 100%;
			    width: 100%;
			    left: 0;
			    top: 0;
		    }

			audio {
				position: absolute;
				z-index: 2;
				right: 0;
				top: 0;
			}
			
			#info {
				text-align: center;
				font-size: 1.5em;
				color: #fff;
				text-shadow: 0 2px 2px rgba(0,0,0,0.2);
				font-weight: 100;
				position: relative;
				width: 500px;
				left: 50%;
				margin-left: -250px;
				z-index: 100;
			}
			a {
				color: inherit;
			}

		</style>
	</head>
	<body>

		<div id="container">
			<div id="info"><p>This experiment requires a modern browser which supports the WebAudio API and WebGL.</p><p>There's a bug in Safari,<br>so better just use <a href="http://google.com/chrome" target="_blank">Chrome</a>.</p></div>

		</div>

		<script src="scripts/libs/Three.js"></script>
		<script src="scripts/libs/utils.js"></script>

		<script src="scripts/script.js"></script>

		<script>

			document.addEventListener("DOMContentLoaded", function() {

				var SMOOTHING = 0.9;
				var FFT = 1024;
				var MP3_PATH = 'audio/small_memory_tunng.mp3';
				var el = document.getElementById('container');
				
				var viz = window.viz = new VIZ(el, MP3_PATH, SMOOTHING, FFT);

			});

		</script>

	</body>
</html>
